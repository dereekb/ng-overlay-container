{"version":3,"file":"ng-overlay-container.mjs","sources":["../../../projects/ng-overlay-container/src/lib/models/ng-overlay-container-configuration.interface.ts","../../../projects/ng-overlay-container/src/lib/popover-component/ng-popover-reference.ts","../../../projects/ng-overlay-container/src/lib/popover-component/ng-popover.component.ts","../../../projects/ng-overlay-container/src/lib/popover-component/ng-popover.component.html","../../../projects/ng-overlay-container/src/lib/ng-overlay-container.service.ts","../../../projects/ng-overlay-container/src/lib/ng-overlay-container.module.ts","../../../projects/ng-overlay-container/src/public-api.ts","../../../projects/ng-overlay-container/src/ng-overlay-container.ts"],"sourcesContent":["import { HorizontalConnectionPos, VerticalConnectionPos } from '@angular/cdk/overlay';\n\n/**\n * Configuration for the overlay container\n */\nexport interface NgOverlayContainerConfiguration {\n  /**\n   * Width of the overlay.\n   *\n   * Default: 400px\n   */\n  width?: string;\n\n  /**\n   * Height of the overlay.\n   *\n   * Default: 500px\n   */\n  height?: string;\n\n  /**\n   * The min-width of the overlay panel. If a number is provided, pixel units are assumed.\n   */\n  minWidth?: number | string;\n\n  /**\n   * The min-height of the overlay panel. If a number is provided, pixel units are assumed.\n   */\n  minHeight?: number | string;\n\n  // Currently there is an issue in the Angular CDK that messes up the maxWidth and maxHeight when using FlexibleConnectedPositionStrategy \n  // /**\n  //  * The max-width of the overlay panel. If a number is provided, pixel units are assumed.\n  //  */\n  // maxWidth?: number | string;\n\n  // /**\n  //  * The max-height of the overlay panel. If a number is provided, pixel units are assumed.\n  //  */\n  // maxHeight?: number | string;\n\n  /**\n   * Custom class for the overlay pane.\n   *\n   * Default: ng-overlay-container\n   */\n  panelClass?: string;\n\n  /**\n   * Whether the dialog has a backdrop.\n   *\n   * Default: true\n   */\n  hasBackdrop?: boolean;\n\n  /**\n   * Custom class for the backdrop.\n   *\n   * Default: cdk-overlay-transparent-backdrop\n   */\n  backdropClass?: string;\n\n  /**\n   * Wether the overlay should be positioned globaly on the screen.\n   *\n   * Default: false\n   */\n  useGlobalPositionStrategy?: boolean;\n\n  /**\n   * Horizontal dimension of a connection point on the perimeter of the origin.\n   *\n   * Default: 'center'\n   */\n  originX?: HorizontalConnectionPos;\n\n  /**\n   * Vertical dimension of a connection point on the perimeter of the origin.\n   *\n   * Default: 'bottom'\n   */\n  originY?: VerticalConnectionPos;\n\n  /**\n   * Horizontal dimension of a connection point on the perimeter of the overlay element.\n   *\n   * Default: 'center'\n   */\n  overlayX?: HorizontalConnectionPos;\n\n  /**\n   * Vertical dimension of a connection point on the perimeter of the overlay element.\n   *\n   * Default: 'top'\n   */\n  overlayY?: VerticalConnectionPos;\n\n  /**\n   * Offset along the X axis in px.\n   *\n   * Default: 0\n   */\n  offsetX?: number;\n\n  /**\n   * Offset along the Y axis in px.\n   *\n   * Default: 10\n   */\n  offsetY?: number;\n\n  /**\n   * Wether the overlay is draggable.\n   *\n   * Default: false\n   */\n  isDraggable?: boolean;\n\n  /**\n   * Wether the overlay is resizable.\n   *\n   * Default: true\n   */\n  isResizable?: boolean;\n\n  /**\n   * Wether the overlay should close when clicking outside.\n   *\n   * Default: false\n   */\n  disableBackdropClose?: boolean;\n}\n\n/**\n * Default overlay container configuration\n */\nexport const DEFAULT_OVERLAY_CONFIGURATION: NgOverlayContainerConfiguration = {\n  hasBackdrop: true,\n  backdropClass: 'cdk-overlay-transparent-backdrop',\n  panelClass: 'ng-overlay-container',\n  useGlobalPositionStrategy: false,\n  width: '400px',\n  height: '500px',\n  originX: 'center',\n  originY: 'bottom',\n  overlayX: 'center',\n  overlayY: 'top',\n  offsetX: 0,\n  offsetY: 10,\n  isDraggable: false,\n  isResizable: true,\n  disableBackdropClose: false\n};\n","import { Overlay, OverlayConfig, OverlayRef } from '@angular/cdk/overlay';\nimport { Subject } from 'rxjs';\nimport { NgOverlayContainerContent } from '../models/ng-overlay-container-content.type';\nimport { NgPopoverCloseEvent, NgPopoverCloseType } from '../models/ng-popover-close-event.interface';\n\n/**\n * The reference to the popover container.\n * @param T The data passed into the container to be available in the embedded e.g. component\n * @param R The response data type returned from the afterClosed$ observable when calling close(data?: R)\n */\nexport class NgPopoverRef<T = any, R = any> {\n  private afterClosed = new Subject<NgPopoverCloseEvent<R>>();\n  private initialOverlayConfig: OverlayConfig;\n  private toggled: boolean;\n\n  /**\n   * Observable to retrieve the returned data\n   */\n  public afterClosed$ = this.afterClosed.asObservable();\n\n  constructor(\n    private _overlay: Overlay,\n    public overlay: OverlayRef,\n    public content: NgOverlayContainerContent,\n    public data: T,\n    public isDraggable?: boolean,\n    public disableBackdropClose?: boolean\n  ) {\n    this.initialOverlayConfig = overlay.getConfig();\n    this.toggled = false;\n    if (!disableBackdropClose) {\n      overlay.backdropClick().subscribe(() => this._close('backdropClick', null));\n    }\n  }\n\n  /**\n   * Sets new width and/or height values. If omitted the current value is used\n   * @param width The new width\n   * @param height The new height\n   */\n  public resize(width?: string, height?: string): void {\n    const currentConfig = this.overlay.getConfig();\n    this.overlay.updateSize({ width: width ?? currentConfig.width, height: height ?? currentConfig.height });\n  }\n\n  /**\n   * Toggle maximize of the overlay\n   */\n  public toggleMaximize(): void {\n    if (!this.toggled) {\n      this.overlay.updatePositionStrategy(\n        this._overlay\n          .position()\n          .flexibleConnectedTo({} as HTMLElement)\n          .withPositions([\n            {\n              originX: 'center',\n              originY: 'bottom',\n              overlayX: 'center',\n              overlayY: 'top',\n              offsetX: 0,\n              offsetY: 0\n            }\n          ])\n      );\n      this.overlay.updateSize({ width: '100%', height: '100%' });\n    } else {\n      this.overlay.updateSize({\n        width: this.initialOverlayConfig.width,\n        height: this.initialOverlayConfig.height\n      });\n      this.overlay.updatePositionStrategy(this.initialOverlayConfig.positionStrategy);\n    }\n    this.toggled = !this.toggled;\n  }\n\n  /**\n   * Closes the container e.g. on a button click\n   * @param data The data returned when closing the container\n   */\n  public close(data?: R): void {\n    this._close('close', data);\n  }\n\n  private _close(type: NgPopoverCloseType, data: R): void {\n    this.overlay.dispose();\n    this.afterClosed.next({\n      type,\n      data\n    });\n    this.afterClosed.complete();\n  }\n}\n","import { Component, OnInit, TemplateRef, ViewEncapsulation } from '@angular/core';\nimport { NgOverlayContainerContent } from '../models/ng-overlay-container-content.type';\nimport { NgPopoverRenderMethod } from '../models/ng-popover-render-method.type';\nimport { NgPopoverRef } from './ng-popover-reference';\n\n/**\n * The host component that embeds the provided content\n */\n@Component({\n    templateUrl: './ng-popover.component.html',\n    styleUrls: ['./ng-popover.component.scss'],\n    encapsulation: ViewEncapsulation.None\n})\nexport class NgPopoverComponent implements OnInit {\n    public ngRenderMethod: NgPopoverRenderMethod;\n    public content: NgOverlayContainerContent;\n    public context: { data: any; close: any };\n    public isDraggable?: boolean;\n\n    public constructor(private ngPopoverRef: NgPopoverRef) {}\n\n    ngOnInit() {\n        this.content = this.ngPopoverRef.content;\n        this.isDraggable = this.ngPopoverRef.isDraggable;\n\n        if (typeof this.content === 'string') {\n            this.ngRenderMethod = 'text';\n        } else if (this.content instanceof TemplateRef) {\n            this.ngRenderMethod = 'template';\n            this.context = {\n                data: this.ngPopoverRef.data,\n                close: this.ngPopoverRef.close.bind(this.ngPopoverRef)\n            };\n        } else {\n            this.ngRenderMethod = 'component';\n        }\n    }\n}\n","<div cdkDrag\n     cdkDragHandle\n     cdkDragRootElement=\".cdk-overlay-pane\"\n     [cdkDragDisabled]=\"!isDraggable\"\n     [cdkDragBoundary]=\"'body'\"\n     id=\"ng-popover\"\n     class=\"ng-popover\">\n  <ng-container [ngSwitch]=\"ngRenderMethod\">\n\n    <div *ngSwitchCase=\"'text'\"\n         [innerHTML]=\"content\"></div>\n\n    <ng-container *ngSwitchCase=\"'template'\">\n      <ng-container *ngTemplateOutlet=\"content; context: context\"></ng-container>\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"'component'\">\n      <ng-container *ngComponentOutlet=\"content\"></ng-container>\n    </ng-container>\n\n  </ng-container>\n</div>","import { ConnectionPositionPair, Overlay, OverlayConfig, PositionStrategy } from '@angular/cdk/overlay';\nimport { ComponentPortal, PortalInjector } from '@angular/cdk/portal';\nimport { Injectable, Injector } from '@angular/core';\nimport {\n  DEFAULT_OVERLAY_CONFIGURATION,\n  NgOverlayContainerConfiguration\n} from './models/ng-overlay-container-configuration.interface';\nimport { NgOverlayContainerParameters } from './models/ng-overlay-container-parameters.interface';\nimport { NgPopoverRef } from './popover-component/ng-popover-reference';\nimport { NgPopoverComponent } from './popover-component/ng-popover.component';\n\n/**\n * The NgOverlayContainerService is an injectable service to open a {@link NgPopoverComponent} that behaves as a parent\n * where anything from text, component or template can be embedded dynamically.\n *\n */\n@Injectable()\nexport class NgOverlayContainerService {\n  public constructor(private overlay: Overlay, private injector: Injector) {}\n\n  /**\n   * Opens an popover relative to the {@param origin} with the provided {@param content}.\n   * @param T The data passed into the container to be available in the embedded e.g. component\n   * @param R The response data type returned from the afterClosed$ observable when calling close(data?: R)\n   * @param content The dynamic content to be rendered: 'template' | 'component' | 'text'\n   * @param origin The origin to which the popover is attached. Not needed if used in combination with NgOverlayContainerConfiguration.useGlobalPositionStrategy = true. If the overlay can't be displayed on the screen, fallback positions are used\n   * @param data Any data that is needed in the rendered component (accessible from the component constructor via the PopoverRef (DI)) or in the template via template variable let-data\n   * @param configuration Any custom overlay configuration\n   * @returns The reference to the NgPopoverRef\n   */\n  public open<T = any, R = any>({\n    content,\n    origin,\n    data,\n    configuration\n  }: NgOverlayContainerParameters<T>): NgPopoverRef<T, R> {\n    const configurationApplied = { ...DEFAULT_OVERLAY_CONFIGURATION, ...configuration };\n    const overlayRef = this.overlay.create(this.getOverlayConfig(origin, configurationApplied));\n\n    if (configuration?.panelClass) {\n      overlayRef.addPanelClass(configuration.panelClass);\n    }\n\n    if (configurationApplied?.isResizable) {\n      overlayRef.addPanelClass('isResizable');\n    }\n\n    const ngPopoverRef = new NgPopoverRef<T, R>(\n      this.overlay,\n      overlayRef,\n      content,\n      data,\n      configuration?.isDraggable ?? DEFAULT_OVERLAY_CONFIGURATION.isDraggable,\n      configuration?.disableBackdropClose ?? DEFAULT_OVERLAY_CONFIGURATION.disableBackdropClose\n    );\n\n    const injector = this.createInjector(ngPopoverRef, this.injector);\n    overlayRef.attach(new ComponentPortal(NgPopoverComponent, null, injector));\n\n    return ngPopoverRef;\n  }\n\n  private getOverlayConfig(origin: HTMLElement, configuration: NgOverlayContainerConfiguration): OverlayConfig {\n    const config = new OverlayConfig({\n      width: configuration.width,\n      height: configuration.height,\n      hasBackdrop: configuration.hasBackdrop,\n      panelClass: DEFAULT_OVERLAY_CONFIGURATION.panelClass,\n      backdropClass: configuration.backdropClass,\n      positionStrategy: this.getOverlayPosition(origin, configuration),\n      scrollStrategy: this.overlay.scrollStrategies.reposition()\n    });\n\n    return Object.assign(config, {\n      ...(configuration.minWidth && { minWidth: configuration.minWidth }),\n      ...(configuration.minHeight && { minHeight: configuration.minHeight })\n      // ...(configuration.maxWidth && { maxWidth: configuration.maxWidth }),\n      // ...(configuration.maxHeight && { maxHeight: configuration.maxHeight })\n    });\n  }\n\n  private getOverlayPosition(origin: HTMLElement, configuration: NgOverlayContainerConfiguration): PositionStrategy {\n    const positionStrategy = configuration.useGlobalPositionStrategy\n      ? this.overlay\n          .position()\n          .global()\n          .centerHorizontally(configuration.offsetX.toString())\n          .centerVertically(configuration.offsetY.toString())\n      : this.overlay\n          .position()\n          .flexibleConnectedTo(origin)\n          .withPositions(this.getPositions(configuration))\n          .withPush(false);\n\n    return positionStrategy;\n  }\n\n  private getPositions(configuration: NgOverlayContainerConfiguration): ConnectionPositionPair[] {\n    return [\n      {\n        originX: configuration.originX,\n        originY: configuration.originY,\n        overlayX: configuration.overlayX,\n        overlayY: configuration.overlayY,\n        offsetX: configuration.offsetX,\n        offsetY: configuration.offsetY\n      }, // Fallback positions if provided position is not possible\n      {\n        // Bottom\n        originX: 'center',\n        originY: 'bottom',\n        overlayX: 'center',\n        overlayY: 'top'\n      },\n      {\n        // Right\n        originX: 'end',\n        originY: 'center',\n        overlayX: 'start',\n        overlayY: 'center'\n      },\n      {\n        // Left\n        originX: 'start',\n        originY: 'center',\n        overlayX: 'end',\n        overlayY: 'center'\n      },\n      {\n        // Top\n        originX: 'center',\n        originY: 'top',\n        overlayX: 'center',\n        overlayY: 'bottom'\n      }\n    ];\n  }\n\n  private createInjector(popoverRef: NgPopoverRef, injector: Injector): PortalInjector {\n    const tokens = new WeakMap([[NgPopoverRef, popoverRef]]);\n    return new PortalInjector(injector, tokens);\n  }\n}\n","import { OverlayModule } from '@angular/cdk/overlay';\nimport { PortalModule } from '@angular/cdk/portal';\nimport { CommonModule } from '@angular/common';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport { NgModule } from '@angular/core';\nimport { NgPopoverComponent } from './popover-component/ng-popover.component';\nimport { NgOverlayContainerService } from './ng-overlay-container.service';\n\n@NgModule({\n  imports: [CommonModule, OverlayModule, PortalModule, DragDropModule],\n  declarations: [NgPopoverComponent],\n  exports: [NgPopoverComponent],\n  providers: [NgOverlayContainerService]\n})\nexport class NgOverlayContainerModule {}\n","/*\n * Public API Surface of ng-overlay-container\n */\n\nexport * from './lib/models/ng-overlay-container-configuration.interface';\nexport * from './lib/models/ng-overlay-container-content.type';\nexport * from './lib/models/ng-overlay-container-parameters.interface';\nexport * from './lib/models/ng-popover-close-event.interface';\nexport * from './lib/models/ng-popover-render-method.type';\nexport * from './lib/ng-overlay-container.module';\nexport * from './lib/ng-overlay-container.service';\nexport * from './lib/popover-component/ng-popover-reference';\nexport * from './lib/popover-component/ng-popover.component';\n\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i1.NgPopoverRef"],"mappings":"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"}